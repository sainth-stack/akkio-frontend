"use strict";(self.webpackChunkkeypulse=self.webpackChunkkeypulse||[]).push([[89],{24556:function(e,n,t){t.d(n,{Z:function(){return d}});var i=t(29439),a=t(72791),o="AnswersAccordion_accordionItem__CBrUz",r="AnswersAccordion_accordionHeader__1xSNZ",s="AnswersAccordion_accordionContent__M3Vbe",l=t(13239),c=t(94294),u=t(80184),d=function(e){var n=e.question,t=e.answer,d=e.loading,p=e.type,h=e.name,f=void 0===h?"savedImages":h,v=(0,a.useState)(!1),x=(0,i.Z)(v,2),m=x[0],g=x[1],j=t,_=(0,a.useState)(!1),y=(0,i.Z)(_,2),b=y[0],w=y[1];(0,a.useEffect)((function(){var e=JSON.parse(localStorage.getItem(f)||"[]");w(e.includes(j))}),[j]);return(0,u.jsxs)("div",{className:o,children:[(0,u.jsxs)("div",{className:r,onClick:function(){return g(!m)},children:[(0,u.jsx)("span",{children:n}),(0,u.jsx)("span",{children:m?"-":"+"})]}),m&&(0,u.jsx)("div",{className:s,children:d?(0,u.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:(0,u.jsx)(l.Z,{size:24})}):(0,u.jsx)("div",{children:"Text"===p?(0,u.jsx)("div",{children:t}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[(0,u.jsx)("img",{src:j,width:700,height:500,alt:""}),!b&&(0,u.jsx)(c.Z,{variant:"contained",color:"primary",onClick:function(){var e=JSON.parse(localStorage.getItem(f)||"[]");e.includes(j)||(e.push(j),localStorage.setItem(f,JSON.stringify(e)),w(!0))},style:{marginTop:"10px"},children:"Save Image"})]}),b&&(0,u.jsx)("div",{style:{marginTop:"10px"},children:"Image already to Dashboard"})]})})})]})}},42995:function(e,n,t){t.d(n,{Z:function(){return o}});t(72791);var i="SampleQuestion_questionBox__h4CCC",a=t(80184),o=function(e){var n=e.question,t=e.onClick;return(0,a.jsx)("button",{className:i,onClick:function(){return t(n)},children:n})}},45089:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var i=t(1413),a=t(74165),o=t(15861),r=t(37762),s=t(93433),l=t(29439),c=t(61889),u=t(13239),d=t(87810),p=t(72791),h=t(31243),f=(t(20501),{container:"columnDescription_container__gm-Tt",heading:"columnDescription_heading__xNdZv",list:"columnDescription_list__erlbl",listItem:"columnDescription_listItem__BCRcV"}),v=t(80184),x=function(e){var n=e.descriptions.split("\n").filter((function(e){return""!==e.trim()}));return(0,v.jsxs)("div",{className:f.container,children:[(0,v.jsx)("p",{className:f.description,children:"The Topic below gives you a general fell of the dataset."}),(0,v.jsx)("ul",{className:f.list,children:n.map((function(e,n){return(0,v.jsx)("li",{className:f.listItem,children:e},n)}))})]})},m="SampleDataTable_container__5JZRi",g="SampleDataTable_table__qBVKO",j="SampleDataTable_headerCell__3aMgM",_="SampleDataTable_row__dlIY2",y="SampleDataTable_cell__8pUW8",b=function(e){var n=e.data,t=Array.isArray(n)?n:[n],i=t.length>0?Object.keys(t[0]):[];return(0,v.jsx)("div",{className:m,children:(0,v.jsxs)("table",{className:g,children:[(0,v.jsx)("thead",{children:(0,v.jsx)("tr",{children:i.map((function(e){return(0,v.jsx)("th",{className:j,children:e},e)}))})}),(0,v.jsx)("tbody",{children:t.map((function(e,n){return(0,v.jsx)("tr",{className:_,children:i.map((function(n){return(0,v.jsx)("td",{className:y,children:e[n]},n)}))},n)}))})]})})},w="Accordion_accordion__mGjo9",Z="Accordion_header__HT9A4",S="Accordion_title__edOsX",N="Accordion_icon__GQ5Ag",C="Accordion_content__aHdZd",k=function(e){var n=e.title,t=e.children,i=(0,p.useState)(!1),a=(0,l.Z)(i,2),o=a[0],r=a[1];return(0,v.jsxs)("div",{className:w,children:[(0,v.jsxs)("div",{className:Z,onClick:function(){r(!o)},children:[(0,v.jsx)("h3",{className:S,children:n}),(0,v.jsx)("span",{className:N,children:o?"\u25b2":"\u25bc"})]}),o&&(0,v.jsx)("div",{className:C,children:t})]})},T="FileUpload_container__uXtON",A="FileUpload_heading__I5pOI",D="FileUpload_uploadSection__8cvEI",I="FileUpload_fileInput__WT7Ae",q="FileUpload_uploadButton__rvQyf",F=function(e){var n=e.handleFileChange,t=e.handleUpload;return(0,v.jsxs)("div",{className:T,children:[(0,v.jsx)("h2",{className:A,children:"Upload Your Data"}),(0,v.jsxs)("div",{className:D,children:[(0,v.jsx)("input",{type:"file",onChange:function(e){return n(e)},className:I}),(0,v.jsx)("button",{type:"submit",className:q,onClick:function(){return t()},children:"Start Chat"})]})]})},E=t(42995),O=t(24556),U=t(9529),M=t(43896),Q=t(63466),B=t(84373),W=t(82041),R=function(){var e=(0,p.useState)(""),n=(0,l.Z)(e,2),t=n[0],f=n[1],m=(0,p.useState)([]),g=(0,l.Z)(m,2),j=(g[0],g[1],(0,p.useState)("")),_=(0,l.Z)(j,2),y=_[0],w=_[1],Z=(0,p.useState)(),S=(0,l.Z)(Z,2),N=(S[0],S[1]),C=(0,p.useState)(["What is the minimum gross_income of the data?","What is the mean quantity of the data?","What is the 50th percentile of unit price of the data?","What is the 25th percentile of gross_income of the data?","What is the 25th percentile of tax_5_percentage of the data?"]),T=(0,l.Z)(C,2),A=T[0],D=T[1],I=(0,p.useState)([]),q=(0,l.Z)(I,2),R=q[0],z=q[1],G=(0,p.useState)("a description of the columns in the provided data:\n  \n  1. Store ID: This column contains numerical values representing the unique identification number of the store where the sales data was recorded. Each row corresponds to a different store.\n  2. Employee Number: This column includes numerical values that represent the unique identification number of the employee associated with the sales data recorded in each row.\n  3. Date: This column likely includes date values indicating when the sales data was recorded.\n  4. Net Sales: This column contains numerical values representing the total sales amount after deducting any returns or discounts. It may include sales from both in-store and online transactions.\n  5. Taxes: This column likely includes numerical values representing the amount of taxes applied to the sales recorded in each row.\n  6. Taxable Sales: This column contains numerical values representing the portion of sales that are subject to taxation.\n  7. Home Sales: This column includes numerical values representing the sales amount specifically related to home products or categories.\n  8. Clothes Sales: This column contains numerical values representing the sales amount specifically related to clothing products or categories.\n  \n  These descriptions provide an overview of the data columns and the type of information they contain"),H=(0,l.Z)(G,2),P=H[0],V=H[1],J=(0,p.useState)('{"Store ID":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"Employee Number":{"0":54,"1":57,"2":50,"3":56,"4":50,"5":56,"6":52,"7":56,"8":55,"9":58},"Area":{"0":"Asia","1":"Asia","2":"Asia","3":"Asia","4":"Asia","5":"Asia","6":"Asia","7":"Asia","8":"Asia","9":"Asia"},"Date":{"0":"2018-01-31","1":"2018-02-28","2":"2018-03-31","3":"2018-04-30","4":"2018-05-31","5":"2018-06-30","6":"2018-07-31","7":"2018-08-31","8":"2018-09-30","9":"2018-10-31"},"Sales":{"0":86586.23,"1":131181.61,"2":185833.69,"3":150538.66,"4":183421.04,"5":292656.36,"6":214964.98,"7":189526.91,"8":222308.26,"9":213762.78},"Marketing Spend":{"0":16022.68,"1":6562.93,"2":1106.61,"3":16586.79,"4":2708.69,"5":10459.98,"6":26320.18,"7":26479.09,"8":4848.86,"9":13452.72},"Electronics Sales":{"0":23312.79,"1":38738.19,"2":53601.54,"3":42062.01,"4":42276.04,"5":69192.41,"6":48065.41,"7":47851.76,"8":64556.77,"9":43525.38},"Home Sales":{"0":10991.36,"1":17000.27,"2":26926.41,"3":25817.93,"4":26700.62,"5":45898.82,"6":24049.25,"7":27550.8,"8":38468.88,"9":21181.46},"Clothes Sales":{"0":28089.66,"1":52073.81,"2":58401.37,"3":50028.65,"4":63996.07,"5":95964.42,"6":94098.8,"7":74569.68,"8":71728.8,"9":78333.69}}'),L=(0,l.Z)(J,2),X=L[0],Y=L[1],$=(0,p.useState)(null),K=(0,l.Z)($,2),ee=K[0],ne=K[1],te=(0,p.useState)(!1),ie=(0,l.Z)(te,2),ae=ie[0],oe=ie[1],re=(0,p.useState)(!1),se=(0,l.Z)(re,2),le=se[0],ce=se[1],ue=(0,p.useState)(0),de=(0,l.Z)(ue,2),pe=de[0],he=de[1],fe=(0,p.useState)(null),ve=(0,l.Z)(fe,2),xe=ve[0],me=(ve[1],(0,p.useState)({textQuestions:[],graphQuestions:[]})),ge=(0,l.Z)(me,2),je=ge[0],_e=ge[1],ye=function(e){var n=[],t=Object.keys(e[0]);n.push(t.join(","));var i,a=(0,r.Z)(e);try{var o=function(){var e=i.value,a=t.map((function(n){return e[n]}));n.push(a.join(","))};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return n.join("\n")},be=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n,t){var i,o,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new FormData,n?(o=ye(n),r=new Blob([o],{type:"text/csv"}),i.append("file",r,"data.csv")):i.append("file",t),ce(!0),oe(!0),e.prev=4,e.next=7,h.Z.post("".concat(W.sC,"/upload"),i).then((function(e){var n,t,i,a,o,r,s,l;ce(!1),N(e),console.log(null===e||void 0===e?void 0:e.data),V(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.column_description),Y(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.first_10_rows);var c=null===e||void 0===e||null===(i=e.data)||void 0===i||null===(a=i.text_questions)||void 0===a||null===(o=a.split("\n"))||void 0===o?void 0:o.filter((function(e){return""!==e.trim()})),u=null===e||void 0===e||null===(r=e.data)||void 0===r||null===(s=r.plotting_questions)||void 0===s||null===(l=s.split("\n"))||void 0===l?void 0:l.filter((function(e){return""!==e.trim()}));_e({textQuestions:c,graphQuestions:u}),D(c)}));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),ce(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(n,t){return e.apply(this,arguments)}}(),we=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("tablename",y),e.next=5,h.Z.post("".concat(W.sC,"/regenerate_txt_questions"),n).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.questions.split("\n").filter((function(e){return""!==e.trim()}));_e((0,i.Z)((0,i.Z)({},je),{},{textQuestions:t})),D(t)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("tablename",y),e.next=5,h.Z.post("".concat(W.sC,"/regenerate_graph_questions"),n).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.questions.split("\n").filter((function(e){return""!==e.trim()})).slice(1);_e((0,i.Z)((0,i.Z)({},je),{},{graphQuestions:t})),D(t)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n,t){var o,r,s,l,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new FormData).append("query",n),o.append("tablename",y),e.prev=3,e.next=6,h.Z.post("".concat(W.sC,"/").concat(1===pe?"gen_graph_response":"gen_txt_response"),o,{responseType:1===pe?"blob":""});case 6:r=e.sent,s=1===pe?URL.createObjectURL(r.data):"",l=t.map((function(e){var t;return e.question==n?(0,i.Z)((0,i.Z)({},e),{},{view:1===pe?"Graph":"Text",answer:1===pe?s:null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.answer,loading:!1}):e})),z(l),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),c=t.map((function(e){return e.question==n?(0,i.Z)((0,i.Z)({},e),{},{answer:"No Data found",loading:!1}):e})),z(c);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(n,t){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[].concat((0,s.Z)(R),[{question:n,answer:"",loading:!0}]),z(t),Se(n,t);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,v.jsx)(c.ZP,{display:"flex",children:(0,v.jsx)(c.ZP,{item:!0,md:10,padding:"10px",sx:{width:"100%"},children:(0,v.jsxs)(c.ZP,{sx:{background:"#FFF",width:"100%"},children:[xe&&(0,v.jsx)("img",{src:xe,alt:"Generated Image",style:{width:"100%",height:"auto"}}),(0,v.jsxs)(c.ZP,{sx:{padding:"20px 10px 10px 10px",display:"flex",flexDirection:"column",gap:"30px",overflow:"auto",width:"100%"},children:[(0,v.jsx)("div",{children:(0,v.jsx)(F,{handleFileChange:function(e){var n=e.target.files[0];ne(n)},handleUpload:function(e){var n,t;ee&&(console.log(null===ee||void 0===ee||null===(n=ee.name)||void 0===n?void 0:n.replace(/\.[^/.]+$/,"")),w(null===ee||void 0===ee||null===(t=ee.name)||void 0===t?void 0:t.replace(/\.[^/.]+$/,"")),be(!1,ee))}})}),ae&&(0,v.jsx)("div",{children:le?(0,v.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:(0,v.jsx)(u.Z,{})}):(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{style:{fontSize:"30px"},children:"Data Explanation"}),(0,v.jsx)("p",{children:"The topic below gives the general feel of the dataset,click on expander ro see more."}),(0,v.jsx)(k,{title:"See Data Explanation",children:(0,v.jsx)(x,{descriptions:P})}),(0,v.jsx)(k,{title:"See Raw Data",children:(0,v.jsx)(b,{data:X})}),(0,v.jsxs)(U.Z,{value:pe,onChange:function(e,n){D(0==n?null===je||void 0===je?void 0:je.textQuestions:null===je||void 0===je?void 0:je.graphQuestions),he(n)},sx:{marginTop:"20px",marginBottom:"20px","& .MuiTabs-flexContainer":{display:"flex",flexDirection:"row"},"& .MuiTab-root":{textTransform:"none",fontSize:"16px",fontWeight:"400",lineHeight:"24px",fontFamily:"Poppins",background:"#E6EDF5",color:"#242424",margin:"4px",padding:"4px 10px",":hover":{background:"#E6EDF5"}},"& .Mui-selected":{backgroundColor:"#3F8CFF !important",color:"#fff !important",fontWeight:700},svg:{width:16,height:16}},children:[(0,v.jsx)(M.Z,{label:"Text View"}),(0,v.jsx)(M.Z,{label:"Graphical View"})]}),(0,v.jsxs)("div",{className:"explorationSection",children:[(0,v.jsx)("h2",{style:{fontSize:"30px"},children:"Exploration"}),(0,v.jsx)("p",{children:"Below are the sample questions"}),(0,v.jsx)("div",{className:"sampleQuestions",style:{display:"flex",marginBottom:"20px",flexWrap:"wrap"},children:null===A||void 0===A?void 0:A.map((function(e,n){return(0,v.jsx)(E.Z,{question:"".concat(e),onClick:Ne},n)}))}),(0,v.jsxs)("button",{style:{background:"#f8f9fa",padding:"8px 12px",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px",transition:"background 0.3s ease",marginBottom:"20px",color:"black"},onClick:function(){0==pe?we():Ze()},children:[(0,v.jsx)(B.Fer,{color:"blue"}),"  Re-generate sample questions"]}),(0,v.jsx)("p",{children:"Type In your question below:"}),(0,v.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",marginTop:"0px"},children:(0,v.jsx)(d.Z,{onChange:function(e){return f(e.target.value)},variant:"outlined",value:t,sx:{width:"500px","& .MuiOutlinedInput-root:hover fieldset":{borderColor:"rgb(69, 69, 69)"},"& .MuiOutlinedInput-root.Mui-focused fieldset":{outline:"none",boxShadow:"none",border:t?"1px solid rgb(48, 36, 139)":"1px solid rgb(69, 69, 69)"},"& .MuiOutlinedInput-root":{paddingRight:"10px",height:"45px"}},placeholder:"Type here to ask Gen AI.............",InputProps:{endAdornment:(0,v.jsx)(Q.Z,{position:"end",children:(0,v.jsx)(B.ghy,{size:24,style:{color:t?"rgb(91, 71, 245)":"rgb(142, 139, 157)",cursor:"pointer"},onClick:function(){Ne(t),f("")}})})}})}),(0,v.jsxs)("div",{className:"answersSection",style:{marginTop:"20px"},children:[(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[(0,v.jsx)("h2",{style:{fontSize:"30px"},children:"Answers"}),(0,v.jsx)("button",{className:"btn btn-primary",onClick:function(){return z([])},children:"Reset"})]}),null===R||void 0===R?void 0:R.map((function(e,n){return(0,v.jsx)(O.Z,{question:e.question,answer:e.answer,loading:null===e||void 0===e?void 0:e.loading,type:e.view},n)}))]})]})]})})]})]})})})}},82041:function(e,n,t){t.d(n,{Eg:function(){return a},sC:function(){return i}});var i="http://18.142.251.129:3001/api";function a(e,n,t){for(var i=null===e||void 0===e?void 0:e.map((function(e){if(n){var t=new Date(e);return isNaN(t.getTime())?null:t}return isNaN(e)?null:Number(e)})).filter((function(e){return null!==e})),a=null===i||void 0===i?void 0:i.sort((function(e,n){return e-n})),o=Math.floor((null===a||void 0===a?void 0:a.length)/t),r=(null===a||void 0===a?void 0:a.length)%t,s=[],l=0,c=function(){var e,t=u<r?o+1:o,i=null===a||void 0===a?void 0:a.slice(l,l+t);if((null===i||void 0===i?void 0:i.length)>0){var c=i[0],d=null===a||void 0===a?void 0:a.slice(l+t),p=(null===d||void 0===d?void 0:d.length)>0?d[0]:i[(null===i||void 0===i?void 0:i.length)-1],h=null===a||void 0===a?void 0:a.filter((function(e){return e>=c&&e<p})).length;s.push({value:"".concat(n?(e=c,n?new Date(e).toLocaleDateString("en-US"):e):c),count:h})}l+=t},u=0;u<t;u++)c();return s}},20501:function(){}}]);
//# sourceMappingURL=89.db787c54.chunk.js.map